# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º. –ò–î–ó ‚Ññ 3. –í–∞—Ä–∏–∞–Ω—Ç 33 <br/> –ù–∞—Ä–∏–Ω –ê–ª–µ–∫—Å–µ–π –ë–ü–ò217.

# –û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
* [–†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞ C](https://github.com/alexnurin/ACS_IHW_3/tree/main/C_files)
* [–ü–∞–ø–∫–∞ —Å –Ω–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –∞—Å—Å–µ–º–±–ª–µ—Ä–∞](https://github.com/alexnurin/ACS_IHW_3/tree/main/ASM_wo_optimisations)
* [–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –∞—Å—Å–µ–º–±–ª–µ—Ä–∞](https://github.com/alexnurin/ACS_IHW_3/tree/main/ASM_optimized)
* [–¢–µ—Å—Ç—ã](https://github.com/alexnurin/ACS_IHW_3/tree/main/Tests)

# –û—Ç—á—ë—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö (—Ä–∞–±–æ—Ç–∞–ª –Ω–∞ –æ—Ü–µ–Ω–∫—É 7)
* üëç –ó–∞–¥–∞—á–∞ —Ä–µ—à–µ–Ω–∞ –Ω–∞ —è–∑—ã–∫–µ C
* üëç –ê—Å—Å–µ–º–±–ª–µ—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ (—Å–≤—è–∑—å –ø–∞–º—è—Ç–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –°, –ø–µ—Ä–µ–¥–∞—á–∞ –∏ –ø—Ä–∏—ë–º –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–π, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤)
* üëç –ê—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥ –≤—Ä—É—á–Ω—É—é –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω (–ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–∏–∂–µ)
* üëç –†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –µ–¥–∏–Ω–∏—Ü –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ - —Ñ–∞–π–ª—ã main –∏ functions.
* üëç –î–æ—Å—Ç—É–ø–Ω—ã —Ç—Ä–∏ —Å–ø–æ—Å–æ–±–∞ –≤–≤–æ–¥–∞: –≤—Ä—É—á–Ω—É—é, —á–µ—Ä–µ–∑ —Ñ–∞–π–ª—ã –∏ —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
* üëç –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã:
–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ - —Ç–æ—á–Ω–æ—Å—Ç—å –≤ –≤–∏–¥–µ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞ –æ—Ç 1 –¥–æ 9 - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
–í—ã—Ö–æ–¥–Ω—ã–µ - —Ä–µ—à–µ–Ω–∏–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è x^3 - 0.5 * x^2 + 0.2 * x - 4 = 0 –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [1;3] —Å –∑–∞–¥–∞–Ω–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é.

1. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–≤–µ—Å—Ç–∏ —Ç–æ—á–Ω–æ—Å—Ç—å –≤—Ä—É—á–Ω—É—é - –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. 
```
/program.exe
```
![img.png](img.png)


2. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–≤–æ–¥ –∏–∑ —Ñ–∞–π–ª–æ–≤, –≤–∞–º —Å–ª–µ–¥—É–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
```
/program.exe input.txt answer.txt
```
  –£ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å–≤—É—é—â–∏–µ –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å/—Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤, –∏–Ω–∞—á–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

  –§–∞–π–ª—ã —Å–ª–µ–¥—É–µ—Ç –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ –æ–¥–Ω—É –ø–∞–ø–∫—É —Å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º —Ñ–∞–π–ª–æ–º, –ª–∏–±–æ –Ω–∞ –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å –≤—ã—à–µ.

3. –ï—Å–ª–∏ –∂–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–≤–æ–¥ —Å—Ç—Ä–æ–∫ —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –≤–≤–æ–¥–∏—Ç–µ —Ç–æ—á–Ω–æ—Å—Ç—å —Å—Ä–∞–∑—É —Ç—É–¥–∞.
```
./program.exe 4
```


# –û—Ç—á—ë—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è—Ö.

*(–í–æ –æ–±–æ–∏—Ö —Ñ–∞–π–ª–∞—Ö main.s, functions.s)*

### –£–¥–∞–ª–µ–Ω—ã –º–∞–∫—Ä–æ—Å—ã:
``` assembly
cdqe
endbr64
```

### –£–¥–∞–ª–µ–Ω—ã —Å—Ç—Ä–æ–∫–∏ —Å –º–µ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π, –Ω–µ –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.
``` assembly
.size	combination, .-combination
	.ident	"GCC: (Ubuntu 9.3.0-10ubuntu2) 9.3.0"
	.section	.note.GNU-stack,"",@progbits
	.section	.note.gnu.property,"a"
	.align 8
	.long	 1f - 0f
	.long	 4f - 1f
	.long	 5
0:
	.string	 "GNU"
1:
	.align 8
	.long	 0xc0000002
	.long	 3f - 2f
2:
	.long	 0x3
3:
	.align 8
4:

```
### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤
–í—Ä—É—á–Ω—É—é –∑–∞–º–µ–Ω–∏–ª —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –ø–µ—Ä–µ–Ω–µ—Å—è –∏—Ö —Å–æ —Å—Ç–µ–∫–∞ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä—ã.
–í —Ñ–∞–π–ª–µ combination —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø–µ—Ä–µ–Ω—ë—Å i —Å–æ —Å—Ç–µ–∫–∞ –≤ r12d, –∞ j - —Å–æ —Å—Ç–µ–∫–∞ –≤ r13d
–ü–æ–º–∏–º–æ —ç—Ç–æ–≥–æ, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª —Å–∏—Ç—É–∞—Ü–∏–∏, –≥–¥–µ rax –≤—ã—Å—Ç—É–ø–∞–ª –≤ —Ä–æ–ª–∏ –Ω–µ–Ω—É–∂–Ω–æ–≥–æ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å —Å–Ω—è—Ç—å —Å–æ —Å—Ç–µ–∫–∞ —á—Ç–æ–±—ã –∫ –ø—Ä–∏–º–µ—Ä—É –ø–µ—Ä–µ–¥–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º —á–µ—Ä–µ–∑ rdi. –ü—Ä–∏–º–µ—Ä –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞—Ö
``` assembly
–∑–∞–º–µ–Ω–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞:
	lea	rax, -128[rbp]
	mov	rdi, rax
–ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤
	lea	rdi, -128[rbp]
```
–¢–∞–∫–∂–µ —É–¥–∞–ª–µ–Ω–æ –ª–∏—à–Ω–µ–µ –∑–∞–Ω—É–ª–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ - –≤ –¥–∞–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –∞ –Ω–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ, –ø–æ—ç—Ç–æ–º—É –∑–∞–Ω—É–ª—ë–Ω–Ω–æ—Å—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–∞.
``` assembly    
        mov	QWORD PTR -120[rbp], 0
	...
	mov	QWORD PTR -56[rbp], 0
```

–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏: —Ç–µ–ø–µ—Ä—å xmm0 –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞ –∑–Ω–∞—á–µ–Ω–∏–π —Å–æ —Å—Ç–µ–∫–∞,
–∞ —Ö—Ä–∞–Ω–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏–∏. <br/>

```assembly
function:
	endbr64
	push	rbp
	mov	rbp, rsp
	movsd	QWORD PTR -8[rbp], xmm0
	movsd	xmm0, QWORD PTR -8[rbp]
	mulsd	xmm0, xmm0
	movapd	xmm1, xmm0
	mulsd	xmm1, QWORD PTR -8[rbp]
	movsd	xmm0, QWORD PTR -8[rbp]
	movapd	xmm2, xmm0
	mulsd	xmm2, xmm0
	movsd	xmm0, QWORD PTR .LC0[rip]
	mulsd	xmm0, xmm2
	subsd	xmm1, xmm0
	movsd	xmm2, QWORD PTR -8[rbp]
	movsd	xmm0, QWORD PTR .LC1[rip]
	mulsd	xmm0, xmm2
	addsd	xmm0, xmm1
	movsd	xmm1, QWORD PTR .LC2[rip]
	subsd	xmm0, xmm1
	pop	rbp
	ret
```
<br/>–°—Ç–∞–ª–æ:<rb/>
``` assembly
function:                               # xmm0 = x
	push	rbp
	mov	rbp, rsp
	movapd	xmm1, xmm0
	mulsd	xmm1, xmm1                  # xmm1 := x^2
    movapd	xmm2, xmm1                  # xmm2 := x^2
	mulsd	xmm2, xmm0                  # xmm2 = x^3
	movsd	xmm3, QWORD PTR .LC0[rip]   # xmm3 := 0.5
	mulsd	xmm3, xmm1                  # xmm3 = x^2 * 0.5
	subsd	xmm2, xmm3                  # xmm2 = x^3 - x^2 * 0.5
	movsd	xmm3, QWORD PTR .LC1[rip]   # xmm3 := 0.2
	mulsd	xmm3, xmm0                  # xmm3 = x * 0.2
	addsd	xmm2, xmm3                  # xmm2 = x^3 - x^2 * 0.5 + x * 0.2
	movsd	xmm1, QWORD PTR .LC2[rip]   # xmm1 := 4
	movapd  xmm0, xmm2
	subsd	xmm0, xmm1                  # xmm0 = x^3 - x^2 * 0.5 + x * 0.2 - 4
	pop	rbp                             # f(x)
	ret
```

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –ø–æ–º–∏–º–æ —É–º–µ–Ω—å—à–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–µ–∫–∞, —Å–æ–∫—Ä–∞—Ç–∏–ª–∞—Å—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞. –≠—Ç–æ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ [–∏–∑–Ω–∞—á–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∞—Å—Å–µ–º–±–ª–µ—Ä–∞](https://github.com/alexnurin/ACS_IHW_2/tree/master/ASM%20not%20optimized) –∏ [–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö](https://github.com/alexnurin/ACS_IHW_2/tree/master/ASM_for_7):
* main.s
  241 -> 209
* functions.s
  147 -> 144
### –°—É–º–º–∞—Ä–Ω–æ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫ —É–º–µ–Ω—å—à–∏–ª–æ—Å—å –Ω–∞ 35.




